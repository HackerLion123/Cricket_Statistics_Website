define(["ivote/lib/Utility"],function(a){function b(){this._utility=new a,this._loggableHostRegex=/^(www.)?(pal.sandbox.dev|production.int|int|production.test|test).bbc.co.uk$/,this._timeReferences=[];var b;try{b=this._loggableHostRegex.test(window.location.host)&&"undefined"!=typeof console}catch(c){b=!1}this._allowed=b,window.performance=window.performance||{},performance.now=function(){return performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return(new Date).getTime()}}(),this.error=function(a){this._allowed&&console.error(a)},this.warn=function(a){this._allowed&&console.warn(a)},this.info=function(a){this._allowed&&console.info(a)},this.log=function(a){this._allowed&&console.log(a)},this.debug=function(a){this._allowed&&console.debug(a)},this.startTiming=function(a){this._timeReferences[a]=window.performance.now()},this.stopTiming=function(a){if(!this._timeReferences[a])throw new Error("Must first define a timestamp reference for '"+a+"' using startTiming() before it can be measured using stopTiming()");var b=window.performance.now()-this._timeReferences[a];""!=this._utility.getQuerystringParam("iVote_MeasurePerformance")&&this.log("TIMEREF '"+a+"' = "+b+"ms")}}return window.__ivote_logger||(window.__ivote_logger=new b),window.__ivote_logger});