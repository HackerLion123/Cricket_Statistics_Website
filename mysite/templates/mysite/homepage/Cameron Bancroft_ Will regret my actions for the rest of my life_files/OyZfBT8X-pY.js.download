if (self.CavalryLogger) { CavalryLogger.start_js(["B9dQf"]); }

__d("VideoSettingsControl.react",["ix","cx","fbt","AbstractButton.react","BanzaiODS","ClickableArea.react","Image.react","React","ReactDOM","VideoSettingsMenu.react","TooltipData","VideoPlayerExperiments","asset","setImmediate","shallowCompare"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j;c=b("React").PropTypes;var k=720,l=2160;d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(a){"use strict";j.constructor.call(this,a),this.state={isFocus:!1}}a.prototype.shouldComponentUpdate=function(a,c){"use strict";return b("shallowCompare")(this,a,c)};a.prototype.onClick=function(){"use strict";!this.state.isFocus&&!this.props.disabled&&this.refs.menu&&this.refs.menu.showQualitySelector()&&b("BanzaiODS").bumpEntityKey("videos","quality_selector.impression"),this.setState(function(a){return{isFocus:!a.isFocus}}),this.props.onSettingsClick&&this.props.onSettingsClick()};a.prototype.getHDIndicator=function(){"use strict";var a=b("VideoPlayerExperiments").showHDIndicator&&!this.props.isInline&&this.props.selectedQuality&&(this.props.selectedQuality=="HD"||parseInt(this.props.selectedQuality,10)>=k),c=null;if(a){a=null;parseInt(this.props.selectedQuality,10)>=l?a="4K":a="HD";c=b("React").createElement("span",{className:"_132c"},a)}return c};a.prototype.render=function(){"use strict";var a=b("React").createElement(b("Image.react"),{className:"_rwt",src:g("391244")}),c=i._("Additional visual settings"),d=null;!this.props.disabled&&this.state.isFocus&&(d=b("React").createElement("div",{className:"_2iw7"+(this.state.isFocus?" _2iw8":"")},b("React").createElement(b("VideoSettingsMenu.react"),{areSubtitlesActive:this.props.areSubtitlesActive,hasHD:this.props.hasHD,hasSubtitles:this.props.hasSubtitles,isHD:this.props.isHD,isLive:this.props.isLive,isSphericalVideo:this.props.isSphericalVideo,onToggleHD:this.props.onToggleHD,onToggleSubtitles:this.props.onToggleSubtitles,tabIndex:this.props.tabIndex,availableQualities:this.props.availableQualities,selectedQuality:this.props.selectedQuality,canAutoSelectVideoQuality:this.props.canAutoSelectVideoQuality,onSelectQuality:this.props.onSelectQuality,showQualitySelector:this.props.showQualitySelector,qualitySelectorMinStreams:this.props.qualitySelectorMinStreams,streamingFormat:this.props.streamingFormat,videoID:this.props.videoID,ref:"menu"})));var e=this.getHDIndicator(),f="_zbd"+(this.props.disabled?" _132h":""),h=i._("Settings");f=b("React").createElement(b("AbstractButton.react"),{className:f,disabled:this.props.disabled,image:a,label:c,labelIsHidden:!0,ref:"button",tabIndex:this.props.tabIndex,type:"button"});return b("React").createElement("div",{className:"_2j04"},d,b("React").createElement(b("ClickableArea.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(h,"above"),{onClick:this.onClick.bind(this)}),b("React").createElement("div",null,f,e)))};a.propTypes={disabled:c.bool,hasHD:c.bool,hasSubtitles:c.bool,isHD:c.bool,isInline:c.bool,isLive:c.bool,isSphericalVideo:c.bool,areSubtitlesActive:c.bool,onToggleHD:c.func,onToggleSubtitles:c.func,tabIndex:c.string,availableQualities:c.array,selectedQuality:c.string,canAutoSelectVideoQuality:c.bool,onSelectQuality:c.func,showQualitySelector:c.bool,qualitySelectorMinStreams:c.number,streamingFormat:c.string};a.defaultProps={tabIndex:"-1"};e.exports=a}),null);